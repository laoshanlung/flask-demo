define(["underscore.custom","backbone.custom"],function(e,t){return t.Collection.extend({model:t.SuperModel,pagination:{},defaultLimit:10,url:function(){var t=this.model.prototype.url;return e.isFunction(t)?t():t},fetch:function(n){n=n?e.clone(n):{},n.parse===void 0&&(n.parse=!0);var r=n.success,i=this;return n.success=function(e){var t=n.reset?"reset":"set";i[t](e,n),r&&r(i,e,n),i.trigger("sync",i,e,n)},t.wrapError(this,n),this.sync("list",this,n)},getOffset:function(){var e=this.pagination.offset;return e===void 0?0:e},setOffset:function(e){this.pagination.offset=e},getLimit:function(){var e=this.pagination.limit;return e===void 0?this.defaultLimit:e},setLimit:function(e){this.pagination.limit=e},setPagination:function(e){this.pagination=e},parse:function(e,t){return this.setPagination(e.pagination),e.data}})});