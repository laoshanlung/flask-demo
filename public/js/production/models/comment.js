define(["underscore.custom","backbone.custom","basemodel","models/user","libs/marked"],function(e,t,n,r,i){var s=n.extend({url:function(){if(this.collection)return this.collection.url();if(this.get("article_id"))return"articles/comments";if(this.get("question_id"))return"questions/comments";if(this.get("answer_id"))return"questions/answers/comments";if(this.get("topic_id"))return"topics/comments"},initialize:function(){},relations:{user:r},generateContent:function(){return i(this.get("content"),{renderer:i.getRenderer("comment")})},allowDelete:function(){return e.hasPermission("delete_comment")}});return s});