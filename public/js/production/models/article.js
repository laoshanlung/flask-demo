define(["underscore.custom","backbone.custom","basemodel","models/user","collections/comments","libs/marked","models/mixins/taggable","models/mixins/votable"],function(e,t,n,r,i,s,o,u){var a=n.extend({url:"articles",relations:{user:r,comments:i},name:"article",generateContent:function(){return s(this.get("content"),{renderer:s.getRenderer("article")})},firstParagraph:function(){var e=this.get("content");return e=e.split("\n")[0],s(e,{renderer:s.getRenderer("article")})},approve:function(){return t.callApi("post",this.url+"/approve",{id:this.id})},allowEdit:function(){return window.currentUser.hasPermission("update_article")||this.get("user_id")===currentUser.id}});return e.extend(a.prototype,o,u),a});