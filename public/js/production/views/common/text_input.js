define(["underscore.custom","marionette.custom","views/mixins/model_binding"],function(e,t,n){var r=t.View.extend({template:'<input class="form-control"/>',delay:300,events:{keyup:"onKeyup","keyup input":"onKeyup"},initialize:function(){this._changing=!1;var e=this.getOption("attribute");this.listenTo(this.model,"change:"+e,this.onChangeModelValue)},render:function(){var t=e.result(this,"template");this.$el.html(t),this.$input=this.$("input"),this.setValue(this.getModelValue())},onKeyup:function(e){var t=this.getOption("attribute"),n=this;this.runOnce(function(){var e=n.getValue();n._changing=!0,n.setModelValue(e),n._changing=!1},this.getOption("delay"))},getValue:function(){return this.$input.val()},setValue:function(e){this.$input.val(e)},onChangeModelValue:function(e,t){if(this._changing)return;this.setValue(t)}});return e.extend(r.prototype,n),r});